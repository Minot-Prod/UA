name: UA Agents Knowledge Packs

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Generate UA Agents Knowledge Pack
        shell: bash
        run: |
          set -euo pipefail

          mkdir -p build/UA_Agents_Pack

          # README
          printf "%s\n" "# UA — Agents Knowledge Packs (v2.0)" > build/UA_Agents_Pack/README.md
          printf "%s\n" "Inventaire et packs de connaissances générés automatiquement." >> build/UA_Agents_Pack/README.md

          # CSV (⚠️ ne mets aucun texte étranger ici)
          cat > build/UA_Agents_Pack/UA_Agents_Inventory.csv <<'CSV'
Agent,Family,Status
UA,META,Ready
MA,META,Ready
MAP,META,Ready
Ops,Tier1,Ready
QA Guardian,Tier1,Ready
Content Agent,Tier1,Ready
Strategy Agent,Tier1,Ready
BizDev Agent,Tier1,Ready
Growth Agent,Tier2,Ready
SEO Agent,Tier2,Ready
RAP Agent,Tier2,Ready
Finance Coach,Tier2,Ready
Leadership Agent,Tier2,Ready
Archviz Agent,Tier2,Ready
Archivist,Fondamentaux,Ready
Chef,Fondamentaux,Ready
Firefly,Fondamentaux,Ready
Content Planner,Fondamentaux,Ready
... autres agents ...
CSV

          # Markdown (extrait)
          cat > build/UA_Agents_Pack/UA_Agents_KnowledgePacks.md <<'MD'
# UA — Inventaire Agents & Knowledge Packs (v2.0)
Tous les agents recensés (~80+) avec Knowledge Pack v1 optimisé.

## Exemple
### Ops Agent
- Mission: CI/CD, secrets, replay
- Inputs: secrets, workflows
- Outputs: builds validés
- KPIs: 100% secrets valides
- Tests: replay OK
MD

          # ZIP
          (cd build && zip -r UA_Agents_KnowledgePacks.zip UA_Agents_Pack)

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: UA_Agents_KnowledgePacks
          path: build/UA_Agents_KnowledgePacks.zip
